<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="643px" preserveAspectRatio="none" style="width:876px;height:643px;" version="1.1" viewBox="0 0 876 643" width="876px" zoomAndPan="magnify"><defs><filter height="300%" id="fawwaq1sfcsje" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#ADD8E6" height="628.3203" style="stroke: #A80036; stroke-width: 1.0;" width="457" x="14" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="39" x="223" y="16.0669">tetris</text><rect fill="#ADD8E6" height="628.3203" style="stroke: #A80036; stroke-width: 1.0;" width="320" x="493" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="76" x="615" y="16.0669">tetris-core</text><rect fill="#FFBBBB" filter="url(#fawwaq1sfcsje)" height="65.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="118" y="503.8906"/><rect fill="#E9967A" filter="url(#fawwaq1sfcsje)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="123" y="541.0234"/><rect fill="#FFBBBB" filter="url(#fawwaq1sfcsje)" height="71.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="347.5" y="432.625"/><rect fill="#E9967A" filter="url(#fawwaq1sfcsje)" height="34.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="352.5" y="469.7578"/><rect fill="#FFBBBB" filter="url(#fawwaq1sfcsje)" height="71.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="576" y="361.3594"/><rect fill="#E9967A" filter="url(#fawwaq1sfcsje)" height="34.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="581" y="398.4922"/><rect fill="#FFBBBB" filter="url(#fawwaq1sfcsje)" height="34.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="737" y="327.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="123" x2="123" y1="58.4297" y2="198.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="123" x2="123" y1="198.9609" y2="226.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="123" x2="123" y1="226.9609" y2="270.0938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="123" x2="123" y1="270.0938" y2="298.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="123" x2="123" y1="298.0938" y2="594.0234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="352" x2="352" y1="58.4297" y2="198.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="352" x2="352" y1="198.9609" y2="226.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="352" x2="352" y1="226.9609" y2="270.0938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="352" x2="352" y1="270.0938" y2="298.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="352" x2="352" y1="298.0938" y2="594.0234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="581" x2="581" y1="58.4297" y2="198.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="581" x2="581" y1="198.9609" y2="226.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="581" x2="581" y1="226.9609" y2="270.0938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="581" x2="581" y1="270.0938" y2="298.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="581" x2="581" y1="298.0938" y2="594.0234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="742" x2="742" y1="58.4297" y2="198.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="742" x2="742" y1="198.9609" y2="226.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="742" x2="742" y1="226.9609" y2="270.0938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="742" x2="742" y1="270.0938" y2="298.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="742" x2="742" y1="298.0938" y2="594.0234"/><rect fill="#FEFECE" filter="url(#fawwaq1sfcsje)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="48" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="55" y="43.1279">MultiplayerLocal.tsx</text><rect fill="#FEFECE" filter="url(#fawwaq1sfcsje)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="48" y="593.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="55" y="613.0186">MultiplayerLocal.tsx</text><rect fill="#FEFECE" filter="url(#fawwaq1sfcsje)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="165" x="268" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="151" x="275" y="43.1279">useMultiplayerLocal.ts</text><rect fill="#FEFECE" filter="url(#fawwaq1sfcsje)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="165" x="268" y="593.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="151" x="275" y="613.0186">useMultiplayerLocal.ts</text><rect fill="#FEFECE" filter="url(#fawwaq1sfcsje)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="527" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="534" y="43.1279">Multiplayer.ts</text><rect fill="#FEFECE" filter="url(#fawwaq1sfcsje)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="527" y="593.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="534" y="613.0186">Multiplayer.ts</text><rect fill="#FEFECE" filter="url(#fawwaq1sfcsje)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="705" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="712" y="43.1279">Tetris.ts</text><rect fill="#FEFECE" filter="url(#fawwaq1sfcsje)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="705" y="593.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="712" y="613.0186">Tetris.ts</text><rect fill="#FFBBBB" filter="url(#fawwaq1sfcsje)" height="65.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="118" y="503.8906"/><rect fill="#E9967A" filter="url(#fawwaq1sfcsje)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="123" y="541.0234"/><rect fill="#FFBBBB" filter="url(#fawwaq1sfcsje)" height="71.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="347.5" y="432.625"/><rect fill="#E9967A" filter="url(#fawwaq1sfcsje)" height="34.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="352.5" y="469.7578"/><rect fill="#FFBBBB" filter="url(#fawwaq1sfcsje)" height="71.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="576" y="361.3594"/><rect fill="#E9967A" filter="url(#fawwaq1sfcsje)" height="34.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="581" y="398.4922"/><rect fill="#FFBBBB" filter="url(#fawwaq1sfcsje)" height="34.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="737" y="327.2266"/><rect fill="#EEEEEE" filter="url(#fawwaq1sfcsje)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="861" x="3" y="88.9961"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="864" y1="88.9961" y2="88.9961"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="864" y1="91.9961" y2="91.9961"/><rect fill="#EEEEEE" filter="url(#fawwaq1sfcsje)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="92" x="387.5" y="78.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="393.5" y="94.4966">Subscribe</text><polygon fill="#0000FF" points="340.5,128.6953,350.5,132.6953,340.5,136.6953,344.5,132.6953" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 2.0;" x1="123" x2="346.5" y1="132.6953" y2="132.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="130" y="127.6294">use effect hook</text><polygon fill="#0000FF" points="569,157.8281,579,161.8281,569,165.8281,573,161.8281" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 2.0;" x1="352.5" x2="575" y1="161.8281" y2="161.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="359.5" y="156.7622">subscribe</text><polygon fill="#0000FF" points="730,186.9609,740,190.9609,730,194.9609,734,190.9609" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 2.0;" x1="581" x2="736" y1="190.9609" y2="190.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="588" y="185.895">subscribe</text><rect fill="#EEEEEE" filter="url(#fawwaq1sfcsje)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="861" x="3" y="247.5273"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="864" y1="247.5273" y2="247.5273"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="864" y1="250.5273" y2="250.5273"/><rect fill="#EEEEEE" filter="url(#fawwaq1sfcsje)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="73" x="397" y="236.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="403" y="253.0278">Publish</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="742" x2="789" y1="314.2266" y2="314.2266"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="789" x2="789" y1="314.2266" y2="327.2266"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="748" x2="789" y1="327.2266" y2="327.2266"/><polygon fill="#A80036" points="758,323.2266,748,327.2266,758,331.2266,754,327.2266" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="754" y="309.1606">calc game state</text><polygon fill="#0000FF" points="597,357.3594,587,361.3594,597,365.3594,593,361.3594" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="591" x2="741" y1="361.3594" y2="361.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="603" y="356.2935">notify</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="586" x2="633" y1="385.4922" y2="385.4922"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="633" x2="633" y1="385.4922" y2="398.4922"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="592" x2="633" y1="398.4922" y2="398.4922"/><polygon fill="#A80036" points="602,394.4922,592,398.4922,602,402.4922,598,398.4922" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="598" y="380.4263">calc game state</text><polygon fill="#0000FF" points="368.5,428.625,358.5,432.625,368.5,436.625,364.5,432.625" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="362.5" x2="580" y1="432.625" y2="432.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="374.5" y="427.5591">notify</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="357.5" x2="404.5" y1="456.7578" y2="456.7578"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="404.5" x2="404.5" y1="456.7578" y2="469.7578"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="363.5" x2="404.5" y1="469.7578" y2="469.7578"/><polygon fill="#A80036" points="373.5,465.7578,363.5,469.7578,373.5,473.7578,369.5,469.7578" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="369.5" y="451.6919">setState</text><polygon fill="#0000FF" points="139,499.8906,129,503.8906,139,507.8906,135,503.8906" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="133" x2="351.5" y1="503.8906" y2="503.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="145" y="498.8247">notify</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="133" x2="175" y1="533.0234" y2="533.0234"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="175" x2="175" y1="533.0234" y2="546.0234"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="134" x2="175" y1="546.0234" y2="546.0234"/><polygon fill="#A80036" points="144,542.0234,134,546.0234,144,550.0234,140,546.0234" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="140" y="527.9575">render</text><!--MD5=[9840b63cc92925ce1dc7ab9273ef1435]
@startuml
skinparam BoxPadding 10
skinparam sequenceArrowThickness 2
skinparam ParticipantPadding 30

participant MultiplayerLocal.tsx
participant useMultiplayerLocal.ts
participant Multiplayer.ts
participant Tetris.ts

box "tetris" #LightBlue
	participant MultiplayerLocal.tsx
	participant useMultiplayerLocal.ts
end box

box "tetris-core" #LightBlue
	participant Multiplayer.ts
	participant Tetris.ts
end box

== Subscribe ==
MultiplayerLocal.tsx -[#0000FF]> useMultiplayerLocal.ts : use effect hook
useMultiplayerLocal.ts -[#0000FF]> Multiplayer.ts : subscribe
Multiplayer.ts -[#0000FF]> Tetris.ts : subscribe
...
== Publish ==
...
Tetris.ts -> Tetris.ts : calc game state
activate Tetris.ts #FFBBBB
Tetris.ts -[#0000FF]-> Multiplayer.ts : notify
deactivate Tetris.ts
activate Multiplayer.ts #FFBBBB
Multiplayer.ts -> Multiplayer.ts : calc game state
activate Multiplayer.ts #DarkSalmon
Multiplayer.ts -[#0000FF]-> useMultiplayerLocal.ts : notify
deactivate Multiplayer.ts
deactivate Multiplayer.ts
activate useMultiplayerLocal.ts #FFBBBB
useMultiplayerLocal.ts -> useMultiplayerLocal.ts : setState
activate useMultiplayerLocal.ts #DarkSalmon
useMultiplayerLocal.ts -[#0000FF]-> MultiplayerLocal.tsx : notify
deactivate useMultiplayerLocal.ts
deactivate useMultiplayerLocal.ts
activate MultiplayerLocal.tsx #FFBBBB
MultiplayerLocal.tsx -> MultiplayerLocal.tsx : render
activate MultiplayerLocal.tsx #DarkSalmon
deactivate MultiplayerLocal.tsx
deactivate MultiplayerLocal.tsx
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>