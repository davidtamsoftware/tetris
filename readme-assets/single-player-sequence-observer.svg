<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="542px" preserveAspectRatio="none" style="width:604px;height:542px;" version="1.1" viewBox="0 0 604 542" width="604px" zoomAndPan="magnify"><defs><filter height="300%" id="f1qq9wrk9r4vvx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#ADD8E6" height="527.9219" style="stroke: #A80036; stroke-width: 1.0;" width="363" x="14" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="39" x="176" y="16.0669">tetris</text><rect fill="#ADD8E6" height="527.9219" style="stroke: #A80036; stroke-width: 1.0;" width="142" x="399" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="76" x="432" y="16.0669">tetris-core</text><rect fill="#FFBBBB" filter="url(#f1qq9wrk9r4vvx)" height="65.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="105.5" y="403.4922"/><rect fill="#E9967A" filter="url(#f1qq9wrk9r4vvx)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="110.5" y="440.625"/><rect fill="#FFBBBB" filter="url(#f1qq9wrk9r4vvx)" height="71.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="288" y="332.2266"/><rect fill="#E9967A" filter="url(#f1qq9wrk9r4vvx)" height="34.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="293" y="369.3594"/><rect fill="#E9967A" filter="url(#f1qq9wrk9r4vvx)" height="34.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="465" y="298.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="110" x2="110" y1="58.4297" y2="169.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="110" x2="110" y1="169.8281" y2="197.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="110" x2="110" y1="197.8281" y2="240.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="110" x2="110" y1="240.9609" y2="268.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="110" x2="110" y1="268.9609" y2="493.625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="293" x2="293" y1="58.4297" y2="169.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="293" x2="293" y1="169.8281" y2="197.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="293" x2="293" y1="197.8281" y2="240.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="293" x2="293" y1="240.9609" y2="268.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="293" x2="293" y1="268.9609" y2="493.625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="470" x2="470" y1="58.4297" y2="169.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="470" x2="470" y1="169.8281" y2="197.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="470" x2="470" y1="197.8281" y2="240.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="470" x2="470" y1="240.9609" y2="268.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="470" x2="470" y1="268.9609" y2="493.625"/><rect fill="#FEFECE" filter="url(#f1qq9wrk9r4vvx)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="48" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="55" y="43.1279">SinglePlayer.tsx</text><rect fill="#FEFECE" filter="url(#f1qq9wrk9r4vvx)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="48" y="492.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="55" y="512.6201">SinglePlayer.tsx</text><rect fill="#FEFECE" filter="url(#f1qq9wrk9r4vvx)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="243" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="250" y="43.1279">useTetris.ts</text><rect fill="#FEFECE" filter="url(#f1qq9wrk9r4vvx)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="243" y="492.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="250" y="512.6201">useTetris.ts</text><rect fill="#FEFECE" filter="url(#f1qq9wrk9r4vvx)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="433" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="440" y="43.1279">Tetris.ts</text><rect fill="#FEFECE" filter="url(#f1qq9wrk9r4vvx)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="433" y="492.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="440" y="512.6201">Tetris.ts</text><rect fill="#FFBBBB" filter="url(#f1qq9wrk9r4vvx)" height="65.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="105.5" y="403.4922"/><rect fill="#E9967A" filter="url(#f1qq9wrk9r4vvx)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="110.5" y="440.625"/><rect fill="#FFBBBB" filter="url(#f1qq9wrk9r4vvx)" height="71.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="288" y="332.2266"/><rect fill="#E9967A" filter="url(#f1qq9wrk9r4vvx)" height="34.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="293" y="369.3594"/><rect fill="#E9967A" filter="url(#f1qq9wrk9r4vvx)" height="34.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="465" y="298.0938"/><rect fill="#EEEEEE" filter="url(#f1qq9wrk9r4vvx)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="589" x="3" y="88.9961"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="592" y1="88.9961" y2="88.9961"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="592" y1="91.9961" y2="91.9961"/><rect fill="#EEEEEE" filter="url(#f1qq9wrk9r4vvx)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="92" x="251.5" y="78.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="257.5" y="94.4966">Subscribe</text><polygon fill="#0000FF" points="281,128.6953,291,132.6953,281,136.6953,285,132.6953" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 2.0;" x1="110.5" x2="287" y1="132.6953" y2="132.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="117.5" y="127.6294">use effect hook</text><polygon fill="#0000FF" points="458,157.8281,468,161.8281,458,165.8281,462,161.8281" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 2.0;" x1="293" x2="464" y1="161.8281" y2="161.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="300" y="156.7622">subscribe</text><rect fill="#EEEEEE" filter="url(#f1qq9wrk9r4vvx)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="589" x="3" y="218.3945"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="592" y1="218.3945" y2="218.3945"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="592" y1="221.3945" y2="221.3945"/><rect fill="#EEEEEE" filter="url(#f1qq9wrk9r4vvx)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="73" x="261" y="207.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="267" y="223.895">Publish</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="470" x2="517" y1="285.0938" y2="285.0938"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="517" x2="517" y1="285.0938" y2="298.0938"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="476" x2="517" y1="298.0938" y2="298.0938"/><polygon fill="#A80036" points="486,294.0938,476,298.0938,486,302.0938,482,298.0938" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="482" y="280.0278">calc game state</text><polygon fill="#0000FF" points="309,328.2266,299,332.2266,309,336.2266,305,332.2266" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="303" x2="469" y1="332.2266" y2="332.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="315" y="327.1606">notify</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="298" x2="345" y1="356.3594" y2="356.3594"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="345" x2="345" y1="356.3594" y2="369.3594"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="304" x2="345" y1="369.3594" y2="369.3594"/><polygon fill="#A80036" points="314,365.3594,304,369.3594,314,373.3594,310,369.3594" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="310" y="351.2935">setState</text><polygon fill="#0000FF" points="126.5,399.4922,116.5,403.4922,126.5,407.4922,122.5,403.4922" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="120.5" x2="292" y1="403.4922" y2="403.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="132.5" y="398.4263">notify</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="120.5" x2="162.5" y1="432.625" y2="432.625"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="162.5" x2="162.5" y1="432.625" y2="445.625"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="121.5" x2="162.5" y1="445.625" y2="445.625"/><polygon fill="#A80036" points="131.5,441.625,121.5,445.625,131.5,449.625,127.5,445.625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="127.5" y="427.5591">render</text><!--MD5=[bd44b6eee024f895a61c03bbd1a82c7b]
@startuml
skinparam BoxPadding 10
skinparam sequenceArrowThickness 2
skinparam ParticipantPadding 30

participant SinglePlayer.tsx
participant useTetris.ts
participant Tetris.ts

box "tetris" #LightBlue
	participant SinglePlayer.tsx
	participant useTetris.ts
end box

box "tetris-core" #LightBlue
	participant Tetris.ts
end box

== Subscribe ==
SinglePlayer.tsx -[#0000FF]> useTetris.ts : use effect hook
useTetris.ts -[#0000FF]> Tetris.ts : subscribe
...
== Publish ==
...
Tetris.ts -> Tetris.ts : calc game state
activate Tetris.ts #DarkSalmon
Tetris.ts -[#0000FF]-> useTetris.ts : notify
deactivate Tetris.ts
activate useTetris.ts #FFBBBB
useTetris.ts -> useTetris.ts : setState
activate useTetris.ts #DarkSalmon
useTetris.ts -[#0000FF]-> SinglePlayer.tsx : notify
deactivate useTetris.ts
deactivate useTetris.ts
activate SinglePlayer.tsx #FFBBBB
SinglePlayer.tsx -> SinglePlayer.tsx : render
activate SinglePlayer.tsx #DarkSalmon
deactivate SinglePlayer.tsx
deactivate SinglePlayer.tsx
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>